<!DOCTYPE html>
<html>
  <head>
    <title>windows</title>
    <script type="text/javascript" src="https://livejs.com/live.js"></script>
    <script type="module">
      import Window from '/scripts/Window.js';
    </script>
    <script>
      const lmc = [{ x: 0, y: 0 }];
      const connectedWindows = [];
      globalThis.globals = {};

      addEventListener('mousemove', ({ clientX, clientY }) => {
        lmc.unshift({ x: clientX, y: clientY });
        lmc.length = 2;

        globalThis.globals['data-past-coords'] = [lmc[1].x, lmc[1].y];
        globalThis.globals['data-coords'] = [lmc[0].x, lmc[0].y];
      });

      connectedWindows.update = function() {
        this.length = 0;
        this.push(Array.from(document.getElementsByTagName('app-window')));
      };
    </script>
    <link rel="stylesheet" href="styles/index.css" />
  </head>
  <body>
    <main class="main-doc">
      <app-window>
      </app-window>
    </main>
    <nav class="main-doc">
    </nav>
  </body>
</html>
